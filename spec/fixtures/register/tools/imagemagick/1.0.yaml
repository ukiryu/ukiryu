# Minimal imagemagick tool profile for testing
# IMv7 uses unified 'magick' command with subcommands
ukiryu_schema: '1.0'
name: imagemagick
display_name: ImageMagick
homepage: https://imagemagick.org/
version: '7.1'
version_detection:
  command: --version
  pattern: '(\d+\.\d+\.\d+)'
search_paths:
  macos:
  - /opt/homebrew/bin/magick
  - /usr/local/bin/magick
  linux:
  - /usr/bin/magick
  - /usr/local/bin/magick
  windows:
  - 'C:/Program Files/ImageMagick*/magick.exe'
timeout: 90
profiles:
- name: default
  platforms:
  - macos
  - linux
  - windows
  shells:
  - bash
  - zsh
  - sh
  - fish
  - powershell
  - cmd
  commands:
  - name: convert
    subcommand: convert
    description: Convert between image formats
    arguments:
    - name: inputs
      type: file
      variadic: true
    - name: output
      type: file
      position: last
      required: true
    options:
    - name: resize
      type: string
      cli: -resize
    - name: quality
      type: integer
      cli: -quality
    flags:
    - name: strip
      cli: -strip
  - name: identify
    subcommand: identify
    description: Identify image attributes
    arguments:
    - name: inputs
      type: file
      variadic: true
  - name: mogrify
    subcommand: mogrify
    description: Process multiple images
    arguments:
    - name: inputs
      type: file
      variadic: true
    options:
    - name: resize
      type: string
      cli: -resize
